:toc:

Project to discover different ways for a node-server application.



== Problem domain ==

An organisation wants to support different stations with parcels from 
a main station.

== Start ==

Steps to start the app.

----
nvm use 8
npm install
node index.js
----


== help ==

=== Express-Middleware ===

* http://expressjs.com/en/resources/middleware.html

=== db-migrate ===

* https://kostasbariotis.com/data-migration-with-nodejs/
* https://db-migrate.readthedocs.io/en/latest/

[source,bash]
----
# options
# --env
# --env dev  -> development db (default)
# --env prod -> productive db

npx db-migrate                  # show help
npx db-migrate db:create test   # create db (in dev)
npx db-migrate create $description-without-space
npx db-migrate create create-table-movies # create new script
npx db-migrate up               # migrate
npx db-migrate down             # rollback
----

=== sqlite ===

There is no special data type for Date. But if it is formatted as ISO8601-string ("YYYY-MM-DD HH:MM:SS.SSS") than it will be handled as DATE.

There is no special data type for BOOLEAN so INTEGER is used with values 1 and 0

=== HTTPS ===

* self-signed or letsEncrypt

==== create self-signed certificate ====

[source,bash]
----
mkdir cert
cd cert
openssl genrsa -out localhost.key 2048
openssl req -new -x509 -key localhost.key -out localhost.cert -days 9999 -subj '/CN=localhost'
cd ..
----

=== Config ===

A config example you can find under ```config/server-example.json``` you can copy this to ```config/server.json``` and adjust the values to your need. All possible configs should be shown in the example.